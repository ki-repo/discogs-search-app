(this["webpackJsonpdiscogs-search-app"]=this["webpackJsonpdiscogs-search-app"]||[]).push([[4],{55:function(n,e,t){"use strict";t.r(e);var i,a,r,o,c,s,l,d=t(50),u=t(49),b=t(0),p=t(11),j=t(12),g=j.b.ul(i||(i=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]))),h=j.b.div(a||(a=Object(p.a)(["\n  padding: 1rem;\n  height: 100%;\n  height:fit-content;\n"]))),m=j.b.div(r||(r=Object(p.a)(["\n  border-radius: 0.25rem;\n  box-shadow: 0 20px 40px -14px #1e1e1e;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: #c53e55;\n  &:hover {\n    -webkit-transform: scale(1.05);\n    -ms-transform: scale(1.05);\n    transform: scale(1.05);\n    cursor: pointer;\n  }\n"]))),f=j.b.li(o||(o=Object(p.a)(["\n  display: grid;\n  padding: 1rem;\n  width: 100%;\n  @media (min-width: 40rem) {\n    width: 50%;\n  }\n  @media (min-width: 56rem) {\n    width: 25%;\n  }\n"]))),x=j.b.p(c||(c=Object(p.a)(["\n  color: ",";\n  font-size: 1rem;\n  line-height: 1.5;\n  margin-bottom: 1.25rem;\n  font-weight: 400;\n"])),(function(n){return n.inputColor||"#dadada"})),O=j.b.h2(s||(s=Object(p.a)(["\n  font-size: 1.5rem;\n  font-weight: bold;\n  letter-spacing: 1px;\n  text-transform: capitalize;\n  margin: 0px;\n  color: ",";\n"])),(function(n){return n.inputColor||"#dadada"})),v=j.b.img(l||(l=Object(p.a)(["\n  margin: 0px;\n  width: 100%;\n  height: 15rem;\n  object-fit: fill;\n"]))),w=t(6),y=function(n){var e=n.id,t=n.coverImg,i=n.country,a=n.year,r=n.title;return Object(w.jsx)(f,{children:Object(w.jsx)(m,{children:Object(w.jsxs)(h,{children:[Object(w.jsx)(v,{src:t,alt:r,loading:"lazy"}),Object(w.jsx)(O,{children:r}),Object(w.jsxs)(x,{children:[i," - ",a]})]})})},e)},k=t(56),I=t(47),C=t.n(I),D=t(48),P=t(52),S=["body"];function F(n){return R.apply(this,arguments)}function R(){return(R=Object(D.a)(C.a.mark((function n(e){var t,i,a,r,o,c,s,l=arguments;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:{},i=t.body,a=Object(P.a)(t,S),r={"Content-Type":"application/json"},o=Object(d.a)(Object(d.a)({method:i?"POST":"GET"},a),{},{headers:Object(d.a)(Object(d.a)({},r),a.headers)}),i&&(o.body=JSON.stringify(i)),n.prev=4,n.next=7,window.fetch(e,o);case 7:return s=n.sent,n.next=10,s.json();case 10:if(c=n.sent,!s.ok){n.next=13;break}return n.abrupt("return",c);case 13:throw new Error(s.statusText);case 16:return n.prev=16,n.t0=n.catch(4),n.abrupt("return",Promise.reject(n.t0.message?n.t0.message:c));case 19:case"end":return n.stop()}}),n,null,[[4,16]])})))).apply(this,arguments)}F.get=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F(n,Object(d.a)(Object(d.a)({},e),{},{method:"GET"}))},F.post=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return F(n,Object(d.a)(Object(d.a)({},t),{},{body:e,method:"POST"}))};var z,T,q,A,M,N,E,J,H,K=function(){var n=Object(D.a)(C.a.mark((function n(e){var t,i,a,r,o,c,s,l;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.paginatedRequest?e.paginatedRequest:"https://api.discogs.com/database/search?type=release&artist=".concat(e.artistName,"&page=").concat(1,"&per_page=").concat(50),n.next=3,F(o,{headers:{Authorization:"Discogs key=".concat("MHgAPEMDzpDRneiyXJwM",", secret=").concat("CDypAPAKtdqcmNJVxuPMVndFxfuaSyuu")}});case 3:return c=n.sent,s={pageId:c.pagination.page,totalItems:c.pagination.items,totalPages:c.pagination.pages,next:null===(t=c.pagination.urls)||void 0===t?void 0:t.next,previous:null===(i=c.pagination.urls)||void 0===i?void 0:i.prev,first:null===(a=c.pagination.urls)||void 0===a?void 0:a.first,last:null===(r=c.pagination.urls)||void 0===r?void 0:r.last},(l={paginationInfo:s,releases:[]}).releases=c.results.map((function(n){return{id:n.id,coverImg:n.cover_image,title:n.title,year:n.year,country:n.country}})),n.abrupt("return",l);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),B={name:"discogs",fn:function(n){return K(n)},options:{staleTime:5e3,refetchOnWindowFocus:!1,refetchOnMount:!1}},G=j.b.div(z||(z=Object(p.a)(["\n  margin: 2rem;\n  display: flex;\n  flex-direction: row;\n  padding: 0.4rem;\n  @media (max-width: 40rem) {\n    flex-direction: column;\n  }\n"]))),L=j.b.div(T||(T=Object(p.a)(["\n  flex: 1 1 auto;\n  border: 1px solid;\n  text-align: center;\n  margin: 0.4rem;\n  align-self: center;\n  color: ",";\n  border-color: ",";\n  color: ",";\n  &:hover {\n    cursor: ",";\n  }\n  @media (max-width: 40rem) {\n    width: 100%;\n  }\n"])),(function(n){return n.isDisabled?"not-allowed":"pointer"}),(function(n){return n.isDisabled?"gray":"red"}),(function(n){return n.isDisabled?"gray":"black"}),(function(n){return n.isDisabled?"not-allowed":"pointer"})),V=function(n){var e=n.PaginationCallBack,t=n.paginationInfo;return t.totalItems<=50?Object(w.jsx)(w.Fragment,{}):Object(w.jsxs)(G,{children:[Object(w.jsxs)(L,{isDisabled:!t.first,onClick:function(){t.first&&e(t.first,1)},children:["<<"," first"]}),Object(w.jsxs)(L,{isDisabled:!t.previous,onClick:function(){t.previous&&e(t.previous,t.pageId-1)},children:["<","previous"]}),Object(w.jsxs)(L,{isDisabled:!1,children:["Page ",t.pageId," of ",t.totalPages]}),Object(w.jsxs)(L,{isDisabled:!t.next,onClick:function(){t.next&&e(t.next,t.pageId+1)},children:["next ",">"]}),Object(w.jsxs)(L,{isDisabled:!t.last,onClick:function(){t.last&&e(t.last,t.totalPages)},children:["last ",">>"]})]})},_=j.b.div(q||(q=Object(p.a)(["\n  border-radius: 5px;\n  background-color: #c53e55;\n  padding: 20px;\n"]))),W=j.b.div(A||(A=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  @media (max-width: 40rem) {\n    flex-direction: column;\n  }\n  &:after {\n    content: '';\n    display: table;\n    clear: both;\n  }\n"]))),X=j.b.div(M||(M=Object(p.a)(["\n  margin-top: 6px;\n  @media (max-width: 600px) {\n    width: 100%;\n    margin-top: 0;\n  }\n"]))),Q=j.b.div(N||(N=Object(p.a)(["\n  flex: auto;\n  width: 50%;\n  margin-top: 6px;\n  @media (max-width: 600px) {\n    width: 100%;\n    margin-top: 0;\n  }\n"]))),U=j.b.button(E||(E=Object(p.a)(["\n  background-color: white;\n  color: #c53e55;\n  flex: auto;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  &.hover {\n    background-color: #c53e55;\n  }\n  margin-top: 0.4rem;\n  margin-left: 1rem;\n  height: 2.5rem;\n  @media (max-width: 40rem) {\n    width: 100%;\n    margin: 0.5rem 0px;\n  }\n"]))),Y=j.b.label(J||(J=Object(p.a)(["\n  padding: 12px 12px 12px 0;\n  display: inline-block;\n  color: #dadada;\n"]))),Z=j.b.input(H||(H=Object(p.a)(["\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  resize: vertical;\n"]))),$=function(n){var e=n.label,t=n.onChange,i=n.filterKey,a=n.placeHolder,r=Object(b.useState)(a),o=Object(u.a)(r,2),c=o[0],s=o[1];return Object(w.jsx)("form",{onSubmit:function(n){n.preventDefault(),t(c)},children:Object(w.jsx)(_,{children:Object(w.jsxs)(W,{children:[Object(w.jsx)(X,{children:Object(w.jsx)(Y,{htmlFor:i,children:e})}),Object(w.jsx)(Q,{children:Object(w.jsx)(Z,{onClick:function(n){n.target.select()},type:"text",value:c,onChange:function(n){s(n.target.value)},required:!0,name:i,placeholder:a})}),Object(w.jsx)(U,{type:"submit",children:"Filter"})]})})})};e.default=function(){var n=Object(b.useState)(""),e=Object(u.a)(n,2),t=e[0],i=e[1],a=Object(b.useState)(),r=Object(u.a)(a,2),o=r[0],c=r[1],s=Object(b.useState)(1),l=Object(u.a)(s,2),p=l[0],j=l[1],h=Object(k.a)(["".concat(B.name,"-").concat(t,"-").concat(p),{artistName:t,paginatedRequest:o}],(function(){return B.fn({artistName:t,paginatedRequest:o})}),Object(d.a)({},B.options)),m=h.isLoading,f=h.isError,x=h.data,O=Object(b.useCallback)((function(n){c(void 0),i(n)}),[i]),v=Object(b.useCallback)((function(n,e){c(n),j(e)}),[c,j]);return Object(w.jsxs)(b.Fragment,{children:[Object(w.jsx)("h1",{children:"Music Releases"}),Object(w.jsx)($,{filterKey:"artist",label:"Filter Artist",placeHolder:0===t.trim().length?"Random Artists...":t,onChange:O}),!x&&m?Object(w.jsx)("div",{children:"Loading"}):null,!x&&f?Object(w.jsx)("div",{children:"error"}):null,x&&0===x.paginationInfo.totalItems?Object(w.jsx)("h1",{children:"No Releases Found for this artist"}):null,(null===x||void 0===x?void 0:x.paginationInfo)?Object(w.jsx)(V,{paginationInfo:null===x||void 0===x?void 0:x.paginationInfo,PaginationCallBack:v}):null,Object(w.jsx)(g,{children:null===x||void 0===x?void 0:x.releases.map((function(n){return Object(w.jsx)(y,{country:n.country,coverImg:n.coverImg,id:n.id,title:n.title,year:n.year},n.id)}))})]})}}}]);
//# sourceMappingURL=4.e31812ed.chunk.js.map